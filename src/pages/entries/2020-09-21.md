---
module: Static.Entry
title: hmsk.me を更新した
category:
  - code
date: 2020-09-20
---
fontawesome.comのライセンスが切れたようで、各サイトへのリンクに使っていたアイコンが全く出ない奇妙なサイトとなっていたのに気づいてバタバタと修正した。転職活動とまでは行かずとも、テック系の人材採用サービスにレジュメを投げて、市場での給与の感覚を年1度くらいは掴むようにしており、そのタイミングで自分のウェブサイトを久しぶりに見たのであった。

[embed:https://fontawesome.com]

ウェブサイト上で設定をしておくだけで、使用するアイコンに合わせて最適化されたリソースを返してくれるサービスに安易に乗っていた（[Kickstarterで応援したときにライセンスを貰った](https://www.kickstarter.com/projects/232193852/font-awesome-5)）のだが、今後も外的な要因でこれが起きるのとすぐに気づけないは困るので、アイコンのSVGを落として（これについてはずっとライセンスが有効っぽい）きてSVGスプライトを組み立てて使うように書き換えた。

Elmで外部ファイルのSVGを使うときに、ベタにHTMLを吐かせるだけでは外部ファイルが読み込まれなくて1時間くらいハマってしまった。どうも外部リソースを勝手に読み込みに行くのを抑制しているらしく（副作用だしそりゃそうか） `elm/svg` を使わないといけなかったようだった。

[embed:https://github.com/hmsk/hmsk.me/commit/f23a596b9d3a17c45fb9e7aa5e321864d1da6699]

ついでに表示されるコンテンツを入れ替えたり、サイトを開いたとき（あるいはタブがアクティブになったとき）にリングコマンドが自動的に開かれるようにした。

[embed:https://hmsk.me]

この記事を出そうとしたら依存しているライブラリがリネームに伴いダウンロードできなくなっており、こちらもこちらでElmのパッケージ群を全部更新するに至った...